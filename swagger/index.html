<!DOCTYPE html>
<html>
  <head>
    <title>ADMCloud API - Documenta√ß√£o Swagger</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: "Roboto", sans-serif;
        background-color: #f5f5f5;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px 20px;
        text-align: center;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .header h1 {
        margin: 0;
        font-size: 2.5em;
        font-weight: 300;
      }

      .header p {
        margin: 10px 0 0 0;
        font-size: 1.1em;
        opacity: 0.9;
      }

      .container {
        max-width: 1200px;
        margin: 30px auto;
        padding: 0 20px;
      }

      .section {
        background: white;
        border-radius: 8px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      .section h2 {
        color: #667eea;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
        margin-top: 0;
      }

      .endpoint {
        background: #f9f9f9;
        border-left: 4px solid #667eea;
        padding: 15px;
        margin: 15px 0;
        border-radius: 4px;
      }

      .endpoint-method {
        display: inline-block;
        padding: 5px 10px;
        border-radius: 4px;
        font-weight: bold;
        color: white;
        margin-right: 10px;
      }

      .endpoint-method.get {
        background-color: #61affe;
      }

      .endpoint-method.post {
        background-color: #49cc90;
      }

      .endpoint-path {
        font-family: "Courier New", monospace;
        font-weight: bold;
        color: #333;
      }

      .code-block {
        background: #272822;
        color: #f8f8f2;
        padding: 15px;
        border-radius: 4px;
        overflow-x: auto;
        font-family: "Courier New", monospace;
        font-size: 13px;
        line-height: 1.5;
        margin: 15px 0;
      }

      .code-block.json {
        border-left: 4px solid #49cc90;
      }

      .code-block.bash {
        border-left: 4px solid #f39c12;
      }

      .table-responsive {
        overflow-x: auto;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
      }

      table th {
        background: #667eea;
        color: white;
        padding: 12px;
        text-align: left;
        font-weight: 600;
      }

      table td {
        padding: 12px;
        border-bottom: 1px solid #e0e0e0;
      }

      table tr:hover {
        background-color: #f5f5f5;
      }

      .status-badge {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
      }

      .status-success {
        background-color: #d4edda;
        color: #155724;
      }

      .status-error {
        background-color: #f8d7da;
        color: #721c24;
      }

      .status-info {
        background-color: #d1ecf1;
        color: #0c5460;
      }

      .required {
        color: #e74c3c;
        font-weight: bold;
      }

      .optional {
        color: #27ae60;
      }

      .footer {
        background: #333;
        color: white;
        text-align: center;
        padding: 20px;
        margin-top: 50px;
        font-size: 14px;
      }

      .badge-method {
        font-weight: bold;
        padding: 2px 6px;
        border-radius: 3px;
        color: white;
        font-size: 12px;
      }

      .badge-get {
        background: #61affe;
      }
      .badge-post {
        background: #49cc90;
      }
      .badge-put {
        background: #fca130;
      }
      .badge-delete {
        background: #f93e3e;
      }

      .info-box {
        background: #e3f2fd;
        border-left: 4px solid #2196f3;
        padding: 15px;
        margin: 15px 0;
        border-radius: 4px;
      }

      .warning-box {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 15px;
        margin: 15px 0;
        border-radius: 4px;
      }

      .success-box {
        background: #d4edda;
        border-left: 4px solid #28a745;
        padding: 15px;
        margin: 15px 0;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 1.8em;
        }

        .section {
          padding: 20px;
        }

        table {
          font-size: 13px;
        }
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>üöÄ ADMCloud API</h1>
      <p>API de Ativa√ß√£o e Registro de Clientes para FrontBox</p>
    </div>

    <div class="container">
      <!-- Informa√ß√µes Gerais -->
      <div class="section">
        <h2>üìã Informa√ß√µes Gerais</h2>
        <p><strong>Vers√£o:</strong> 1.0.0</p>
        <p>
          <strong>Status:</strong>
          <span class="status-badge status-success">Ativo</span>
        </p>
        <p><strong>Contato:</strong> papion@papion.com.br</p>
        <p><strong>Documenta√ß√£o Completa:</strong></p>
        <ul>
          <li><strong>OpenAPI Spec:</strong> openapi.yaml</li>
          <li><strong>Markdown:</strong> API_DOCUMENTATION.md</li>
          <li>
            <strong>An√°lise T√©cnica:</strong> relatorios/ANALISE_TECNICA.md
          </li>
          <li>
            <strong>Mapeamento:</strong> relatorios/ENDPOINTS_MAPEAMENTO.md
          </li>
          <li><strong>Schema BD:</strong> relatorios/BANCO_DADOS_SCHEMA.md</li>
          <li><strong>Guia de Uso:</strong> relatorios/GUIA_USO.md</li>
        </ul>

        <div class="info-box">
          <strong>‚ÑπÔ∏è Servidores:</strong>
          <br />Desenvolvimento: <code>http://localhost/api/v1</code>
          <br />Produ√ß√£o: <code>https://admcloud.papion.com.br/api/v1</code>
        </div>
      </div>

      <!-- Endpoints -->
      <div class="section">
        <h2>üîó Endpoints Dispon√≠veis</h2>

        <div class="endpoint">
          <span class="endpoint-method get">GET</span>
          <span class="endpoint-path">/passport</span>
          <p>
            <strong>Descri√ß√£o:</strong> Validar cliente e gerenciar licen√ßas
          </p>
          <p><strong>Autentica√ß√£o:</strong> P√∫blica (sem token)</p>
        </div>

        <div class="endpoint">
          <span class="endpoint-method post">POST</span>
          <span class="endpoint-path">/registro</span>
          <p><strong>Descri√ß√£o:</strong> Registrar novo cliente</p>
          <p><strong>Autentica√ß√£o:</strong> Bearer Token (obrigat√≥rio)</p>
        </div>

        <div class="endpoint">
          <span class="endpoint-method get">GET</span>
          <span class="endpoint-path">/registro</span>
          <p><strong>Descri√ß√£o:</strong> Informa√ß√µes do m√≥dulo de registro</p>
          <p><strong>Autentica√ß√£o:</strong> Bearer Token (obrigat√≥rio)</p>
        </div>
      </div>

      <!-- Autentica√ß√£o -->
      <div class="section">
        <h2>üîê Autentica√ß√£o</h2>

        <h3>GET /passport - P√∫blico</h3>
        <p>N√£o requer autentica√ß√£o. Endpoint aberto ao p√∫blico.</p>

        <h3>POST /registro e GET /registro - Bearer Token</h3>
        <p>Requer autentica√ß√£o via JWT Token.</p>

        <div class="code-block bash">
          curl -X POST "http://localhost/api/v1/registro" \ -H "Authorization:
          Bearer eyJ0eXAiOiJKV1QiLCJhbGc..." \ -H "Content-Type:
          application/json"
        </div>
      </div>

      <!-- Endpoints Detalhado -->
      <div class="section">
        <h2>üì° 1. GET /passport - Validar Passport</h2>

        <h3>Descri√ß√£o</h3>
        <p>
          Valida o passport de um cliente, gerenciando licen√ßas por dispositivo.
          Verifica se o cliente est√° ativo, se a licen√ßa n√£o expirou e se ainda
          tem licen√ßas dispon√≠veis.
          <strong>Retorna todos os dados do cliente em caso de sucesso.</strong>
        </p>

        <h3>Par√¢metros</h3>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>Par√¢metro</th>
                <th>Tipo</th>
                <th>Obrigat√≥rio</th>
                <th>Descri√ß√£o</th>
                <th>Exemplo</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>cgc</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>CNPJ/CPF (com ou sem formata√ß√£o)</td>
                <td>12345678901234</td>
              </tr>
              <tr>
                <td>hostname</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Nome do host/computador</td>
                <td>DESKTOP-ABC123</td>
              </tr>
              <tr>
                <td>guid</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>GUID √∫nico da instala√ß√£o</td>
                <td>550e8400-e29b-41d4-a716-446655440000</td>
              </tr>
              <tr>
                <td>fbx</td>
                <td>string</td>
                <td><span class="optional">-</span></td>
                <td>Vers√£o do FrontBox</td>
                <td>4.5.2</td>
              </tr>
              <tr>
                <td>pdv</td>
                <td>string</td>
                <td><span class="optional">-</span></td>
                <td>Vers√£o do PDV</td>
                <td>1.2.3</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3>Exemplo de Requisi√ß√£o</h3>
        <div class="code-block bash">
          curl -X GET
          "http://localhost/api/v1/passport?cgc=12345678901234&hostname=DESKTOP-XYZ&guid=550e8400-e29b-41d4-a716-446655440000&fbx=4.5.2&pdv=1.2.3"
        </div>

        <h3>Respostas</h3>

        <h4>‚úÖ Sucesso</h4>
        <div class="code-block json">
          { "Status": true, "Mensagem": "Passport OK!", "Dados": { "id_pessoa":
          1001, "nome": "EMPRESA LTDA", "fantasia": "Minha Empresa", "cgc":
          "12345678901234", "email": "contato@empresa.com.br", "telefone": "(11)
          3000-0000", "celular": "(11) 99999-9999", "contato": "Jo√£o Silva",
          "endereco": "Rua das Flores", "numero": "123", "complemento": "Sala
          10", "bairro": "Centro", "cidade": "S√£o Paulo", "estado": "SP", "cep":
          "01310-100", "ativo": "S", "licencas": 5, "cont_licencas": 1,
          "periodo": 30, "expira_em": "2025-01-15", "data_cadastro":
          "2024-12-15", "ultimo_acesso": "2024-12-17T10:30:45", "versao_fbx":
          "4.5.2", "versao_pdv": "1.2.3", "obs": "" } }
        </div>

        <h4>‚ùå Cliente n√£o encontrado</h4>
        <div class="code-block json">
          { "Status": false, "Mensagem": "Registro n√£o encontrado." }
        </div>

        <h4>‚ùå Cliente inativo</h4>
        <div class="code-block json">
          { "Status": false, "Mensagem": "Sua licen√ßa expirou ou a conta est√°
          desativada. Motivo da desativa√ß√£o" }
        </div>

        <h4>‚ùå Licen√ßa expirada</h4>
        <div class="code-block json">
          { "Status": false, "Mensagem": "Sua licen√ßa expirou em 15/12/2024.
          Entre em contato com o revendedor." }
        </div>

        <h4>‚ùå Limite de licen√ßas atingido</h4>
        <div class="code-block json">
          { "Status": false, "Mensagem": "Limite de licen√ßas atingido: 5." }
        </div>
      </div>

      <!-- POST /registro -->
      <div class="section">
        <h2>üìù 2. POST /registro - Registrar Novo Cliente</h2>

        <h3>Descri√ß√£o</h3>
        <p>
          Registra um novo cliente no sistema. O cliente √© ativado
          automaticamente com 1 licen√ßa e 30 dias de validade.
        </p>

        <div class="warning-box">
          <strong>‚ö†Ô∏è Requer Autentica√ß√£o:</strong> Bearer Token obrigat√≥rio
        </div>

        <h3>Campos do Corpo da Requisi√ß√£o</h3>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>Campo</th>
                <th>Tipo</th>
                <th>Obrigat√≥rio</th>
                <th>Descri√ß√£o</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>nome</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Raz√£o Social</td>
              </tr>
              <tr>
                <td>fantasia</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Nome Fantasia</td>
              </tr>
              <tr>
                <td>cgc</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>CNPJ/CPF</td>
              </tr>
              <tr>
                <td>contato</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Pessoa de Contato</td>
              </tr>
              <tr>
                <td>email</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Email</td>
              </tr>
              <tr>
                <td>telefone</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Telefone</td>
              </tr>
              <tr>
                <td>celular</td>
                <td>string</td>
                <td><span class="optional">-</span></td>
                <td>Celular</td>
              </tr>
              <tr>
                <td>endereco</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Endere√ßo</td>
              </tr>
              <tr>
                <td>numero</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>N√∫mero</td>
              </tr>
              <tr>
                <td>complemento</td>
                <td>string</td>
                <td><span class="optional">-</span></td>
                <td>Complemento (apto, sala)</td>
              </tr>
              <tr>
                <td>bairro</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Bairro</td>
              </tr>
              <tr>
                <td>cidade</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Cidade</td>
              </tr>
              <tr>
                <td>estado</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>Estado (UF)</td>
              </tr>
              <tr>
                <td>cep</td>
                <td>string</td>
                <td><span class="required">‚úì</span></td>
                <td>CEP</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3>Exemplo de Requisi√ß√£o</h3>
        <div class="code-block bash">
          curl -X POST "http://localhost/api/v1/registro" \ -H "Authorization:
          Bearer seu_token_aqui" \ -H "Content-Type: application/json" \ -d '{
          "registro": { "nome": "EMPRESA LTDA", "fantasia": "Minha Empresa",
          "cgc": "12.345.678/0001-90", "contato": "Jo√£o Silva", "email":
          "joao@empresa.com.br", "telefone": "(11) 3000-0000", "endereco": "Rua
          das Flores", "numero": "123", "complemento": "Sala 10", "bairro":
          "Centro", "cidade": "S√£o Paulo", "estado": "SP", "cep": "01310-100" }
          }'
        </div>

        <h3>Resposta de Sucesso</h3>
        <div class="code-block json">
          { "status": "OK", "msg": "CHAVE_B_AQUI", "data": { "id_pessoa": 1001,
          "nome": "EMPRESA LTDA", "fantasia": "Minha Empresa", "cgc":
          "12345678001234", "email": "joao@empresa.com.br", "ativo": "S",
          "licencas": 1, "cont_licencas": 1, "periodo": 30, "expira_em":
          "2024-01-15", "data_install": "2023-12-15T10:30:00" } }
        </div>

        <h3>Resposta de Erro</h3>
        <div class="code-block json">
          { "status": "ERRO", "msg": "Email deve ser preenchido", "data": {} }
        </div>

        <div class="success-box">
          <strong>‚úÖ Ao registrar com sucesso:</strong>
          <ul>
            <li>Cliente criado com status ATIVO</li>
            <li>1 licen√ßa assinada</li>
            <li>30 dias de validade</li>
            <li>Email enviado aos administradores</li>
          </ul>
        </div>
      </div>

      <!-- GET /registro -->
      <div class="section">
        <h2>‚ÑπÔ∏è 3. GET /registro - Status do M√≥dulo</h2>

        <h3>Descri√ß√£o</h3>
        <p>
          Retorna informa√ß√µes sobre o m√≥dulo de registro. √ötil para testes de
          conectividade.
        </p>

        <div class="warning-box">
          <strong>‚ö†Ô∏è Requer Autentica√ß√£o:</strong> Bearer Token obrigat√≥rio
        </div>

        <h3>Exemplo de Requisi√ß√£o</h3>
        <div class="code-block bash">
          curl -X GET "http://localhost/api/v1/registro" \ -H "Authorization:
          Bearer seu_token_aqui"
        </div>

        <h3>Resposta</h3>
        <div class="code-block json">
          { "status": "OK", "msg": "GET", "data": {} }
        </div>
      </div>

      <!-- C√≥digos HTTP -->
      <div class="section">
        <h2>üìä C√≥digos HTTP</h2>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <th>C√≥digo</th>
                <th>Significado</th>
                <th>Descri√ß√£o</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="status-badge status-success">200</span></td>
                <td>OK</td>
                <td>Requisi√ß√£o bem-sucedida</td>
              </tr>
              <tr>
                <td><span class="status-badge status-error">400</span></td>
                <td>Bad Request</td>
                <td>Dados inv√°lidos ou faltantes</td>
              </tr>
              <tr>
                <td><span class="status-badge status-error">401</span></td>
                <td>Unauthorized</td>
                <td>Token inv√°lido ou n√£o fornecido</td>
              </tr>
              <tr>
                <td><span class="status-badge status-error">403</span></td>
                <td>Forbidden</td>
                <td>Acesso negado</td>
              </tr>
              <tr>
                <td><span class="status-badge status-error">404</span></td>
                <td>Not Found</td>
                <td>Recurso n√£o encontrado</td>
              </tr>
              <tr>
                <td><span class="status-badge status-error">500</span></td>
                <td>Server Error</td>
                <td>Erro interno do servidor</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Documentos -->
      <div class="section">
        <h2>üìö Documenta√ß√£o Completa</h2>

        <h3>Arquivos Gerados</h3>
        <ul>
          <li>
            <strong>swagger/openapi.yaml</strong> - Especifica√ß√£o OpenAPI 3.0
            <p><small>Formato padr√£o para documenta√ß√£o de APIs REST</small></p>
          </li>
          <li>
            <strong>swagger/API_DOCUMENTATION.md</strong> - Documenta√ß√£o em
            Markdown
            <p><small>Guia leg√≠vel em formato Markdown</small></p>
          </li>
          <li>
            <strong>relatorios/ANALISE_TECNICA.md</strong> - An√°lise T√©cnica
            Completa
            <p><small>Detalhes t√©cnicos, arquitetura, integra√ß√µes</small></p>
          </li>
          <li>
            <strong>relatorios/ENDPOINTS_MAPEAMENTO.md</strong> - Mapeamento
            Detalhado
            <p>
              <small>Fluxos, par√¢metros, exemplos para cada endpoint</small>
            </p>
          </li>
          <li>
            <strong>relatorios/BANCO_DADOS_SCHEMA.md</strong> - Schema do Banco
            <p><small>Estrutura das tabelas, √≠ndices, queries</small></p>
          </li>
          <li>
            <strong>relatorios/GUIA_USO.md</strong> - Guia de Uso Pr√°tico
            <p><small>Exemplos pr√°ticos e troubleshooting</small></p>
          </li>
        </ul>
      </div>

      <!-- Pr√≥ximos Passos -->
      <div class="section">
        <h2>üöÄ Pr√≥ximos Passos</h2>
        <ol>
          <li>
            Revisar a documenta√ß√£o OpenAPI em <code>swagger/openapi.yaml</code>
          </li>
          <li>Implementar testes unit√°rios para cada endpoint</li>
          <li>Configurar rate limiting</li>
          <li>Implementar logging de acessos</li>
          <li>Configurar CORS para produ√ß√£o</li>
          <li>Testar integra√ß√£o com FrontBox</li>
          <li>Deploy em produ√ß√£o</li>
          <li>Monitorar e manter documenta√ß√£o</li>
        </ol>
      </div>
    </div>

    <div class="footer">
      <p>ADMCloud API v1.0.0 | Documenta√ß√£o Gerada em 09 de Dezembro de 2024</p>
      <p>Para suporte: papion@papion.com.br</p>
    </div>
  </body>
</html>
