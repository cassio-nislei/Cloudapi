â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ATUALIZAÃ‡ÃƒO - Classes Delphi para API Corrigida                         â•‘
â•‘ Data: 24/12/2025                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ RESUMO DAS ALTERAÃ‡Ã•ES:

1. ADMCloudConsts.pas âœ…
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   AlteraÃ§Ãµes realizadas:
   
   âœ… URL de ProduÃ§Ã£o:
      ANTES: ADMCloud_URL_PROD = 'https://admcloud.papion.com.br/v1'
      DEPOIS: ADMCloud_URL_PROD = 'http://104.234.173.105:7010'
   
   âœ… Endpoints atualizados para usar /api/:
      ANTES: ADMCloud_ENDPOINT_PASSPORT = 'passport'
      DEPOIS: ADMCloud_ENDPOINT_PASSPORT = 'api/passport'
      
      ANTES: ADMCloud_ENDPOINT_REGISTRO_GET = 'registro'
      DEPOIS: ADMCloud_ENDPOINT_REGISTRO_GET = 'api/pessoas'
      
      ANTES: ADMCloud_ENDPOINT_REGISTRO_POST = 'registro'
      DEPOIS: ADMCloud_ENDPOINT_REGISTRO_POST = 'api/pessoas'


2. ADMCloudAPI.pas âœ…
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   AlteraÃ§Ãµes realizadas:
   
   âœ… MÃ©todo ValidarPassport (linha 313):
      ANTES: LEndpoint := 'passport?cgc=' + ...
      DEPOIS: LEndpoint := 'api/passport?cgc=' + ...
   
   âœ… MÃ©todo GetStatusRegistro (linha 329):
      ANTES: Result := RequisicaoGET('registro', LResponse);
      DEPOIS: Result := RequisicaoGET('api/pessoas', LResponse);
   
   âœ… MÃ©todo RegistrarCliente (linha 383):
      ANTES: Result := RequisicaoPOST('registro', ...);
      DEPOIS: Result := RequisicaoPOST('api/pessoas', ...);
   
   âœ… MÃ©todo TestarConexao (linha 492):
      ANTES: Result := RequisicaoGET('passport?cgc=...');
      DEPOIS: Result := RequisicaoGET('api/passport?cgc=...');
   
   âœ… Tratamento de headers (linhas 208-225):
      - Adicionado suporte para 'api/passport' e 'api/pessoas'
      - ComentÃ¡rio atualizado: /api/passport Ã© pÃºblico (sem autenticaÃ§Ã£o)
      - Endpoints /api/pessoas requerem Bearer Token


3. uEmpresaLicencaManager.pas âœ…
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   Status: NÃ£o requer alteraÃ§Ãµes
   
   âœ“ JÃ¡ foi atualizado em sessÃ£o anterior
   âœ“ Usa ADMCloudAPI.ConsultarPessoa() que foi atualizado
   âœ“ Parser JSON compatÃ­vel com nova resposta


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š VERIFICAÃ‡ÃƒO DE ENDPOINTS:

Endpoints agora apontam para:
âœ… http://104.234.173.105:7010/api/pessoas
âœ… http://104.234.173.105:7010/api/passport
âœ… Suporta Bearer Token nos headers Authorization

Testes executados com sucesso:
âœ… /api/pessoas?cnpj=92702067000196 â†’ HTTP 200 (Encontrado)
âœ… /api/passport?cgc=92702067000196 â†’ HTTP 200 (Encontrado)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ PRÃ“XIMOS PASSOS:

1. Compilar o projeto Delphi com as classes atualizadas
2. Testar o botÃ£o btnRegistrarEmpresa
3. Validar com CNPJs:
   âœ“ 92702067000196 (deve retornar sucesso)
   âœ“ 19788379000174 (deve retornar nÃ£o encontrado)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ ARQUIVOS MODIFICADOS:

âœ… c:\Users\nislei\Desktop\DLL\admcloud\integra\ADMCloudConsts.pas
âœ… c:\Users\nislei\Desktop\DLL\admcloud\integra\ADMCloudAPI.pas
âœ… c:\Users\nislei\Desktop\DLL\admcloud\integra\uEmpresaLicencaManager.pas

Status: PRONTO PARA COMPILAÃ‡ÃƒO âœ“
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
